(function(t){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{var e;if(typeof window!=="undefined"){e=window}else if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{e=this}e.algebra=t()}})(function(){var t,e,r;return function i(t,e,r){function n(o,a){if(!e[o]){if(!t[o]){var u=typeof require=="function"&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var h=e[o]={exports:{}};t[o][0].call(h.exports,function(e){var r=t[o][1][e];return n(r?r:e)},h,h.exports,i,t,e,r)}return e[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<r.length;o++)n(r[o]);return n}({1:[function(t,e,r){var i=t("./expressions").Expression;var n=t("./expressions").Variable;var s=t("./expressions").Term;var o=t("./fractions");var a=t("./helper").isInt;var u=function(t,e){if(t instanceof i){this.lhs=t;if(e instanceof i){this.rhs=e}else if(e instanceof o||a(e)){this.rhs=new i(e)}else{throw"InvalidArgument"}}else{throw"InvalidArgument"}};u.prototype.solveFor=function(t){if(!this.lhs._hasVariable(t)&&!this.rhs._hasVariable(t)){throw"InvalidArgument"}if(this._isLinear()||this._variableCanBeIsolated(t)){var e=new s(new n(t));var r=new i;var u=new i;for(var f=0;f<this.rhs.terms.length;f++){var h=this.rhs.terms[f];if(h.canBeCombinedWith(e)){r=r.subtract(h)}else{u=u.add(h)}}for(var f=0;f<this.lhs.terms.length;f++){var h=this.lhs.terms[f];if(h.canBeCombinedWith(e)){r=r.add(h)}else{u=u.subtract(h)}}u=u.subtract(this.lhs.constant());u=u.add(this.rhs.constant());if(r.terms.length===0){if(r.constant().equalTo(u.constant())){return new o(1,1)}else{throw"NoSolution"}}u=u.divide(r.terms[0].coefficient());if(u.terms.length===0){return u.constant().reduce()}u._sort();return u}else{var r=this.lhs.copy();r=r.subtract(this.rhs);if(r.terms.length===0){if(r.constant().valueOf()===0){return[new o(1,1)]}else{throw"NoSolution"}}else if(this._isQuadratic(t)){var l=r._quadraticCoefficients();var c=l.a;var p=l.b;var v=l.c;var m=p.pow(2).subtract(c.multiply(v).multiply(4));if(m.valueOf()>=0){if(m.valueOf()===0){return[p.multiply(-1).divide(c.multiply(2)).reduce()]}else{var d;if(m._squareRootIsRational()){d=m.pow(.5);var y=p.multiply(-1).subtract(d).divide(c.multiply(2));var g=p.multiply(-1).add(d).divide(c.multiply(2));return[y.reduce(),g.reduce()]}else{d=Math.sqrt(m.valueOf());c=c.valueOf();p=p.valueOf();var y=(-p-d)/2*c;var g=(-p+d)/2*c;return[y,g]}}}else{return[]}}else if(this._isCubic(t)){var l=r._cubicCoefficients();var c=l.a;var p=l.b;var v=l.c;var b=l.d;var _=c.multiply(p).multiply(v).multiply(b).multiply(18);_=_.subtract(p.pow(3).multiply(b).multiply(4));_=_.add(p.pow(2).multiply(v.pow(2)));_=_.subtract(c.multiply(v.pow(3)).multiply(4));_=_.subtract(c.pow(2).multiply(b.pow(2)).multiply(27));var w=p.pow(2).subtract(c.multiply(v).multiply(3));if(_.valueOf()===0){if(w.valueOf()===0){var y=p.multiply(-1).divide(c.multiply(3));return[y.reduce()]}else{var y=c.multiply(p).multiply(v).multiply(4);y=y.subtract(c.pow(2).multiply(b).multiply(9));y=y.subtract(p.pow(3));y=y.divide(c.multiply(w));var g=c.multiply(b).multiply(9).subtract(p.multiply(v)).divide(w.multiply(2));return[y.reduce(),g.reduce()]}}else{var T=new i("t").subtract(p.divide(c.multiply(3)));var x={};x[t]=T;var E=r.eval(x);var I=E._cubicCoefficients();var c=I.a.valueOf();var p=I.b.valueOf();var v=I.c.valueOf();var b=I.d.valueOf();if(_.valueOf()<0){var M=-p/3*c;var k=Math.pow(M,3)+(p*v-3*c*b)/(6*c^2);var O=v/3*c;var A=Math.sqrt(Math.pow(k,2)+Math.pow(O-Math.pow(M,2),3));var D=Math.cbrt(k+A)+Math.cbrt(k-A)+M;D=a(D)?new o(D,1):D;var x={};x[t]=Math.round(D);D=r.eval(x).toString()==="0"?new o(Math.round(D),1):D;return[D]}else{var k=Math.sqrt(-3*c*v/(9*Math.pow(c,2)));var R=2*c*Math.pow(k,3);var S=1/3*Math.acos(-b/R);var P=2*k*Math.cos(S);var L=2*k*Math.cos(2*Math.PI/3-S);var V=2*k*Math.cos(2*Math.PI/3+S);var C=P+T.constant().valueOf();var U=L+T.constant().valueOf();var N=V+T.constant().valueOf();C=a(C)?new o(C,1):C;U=a(U)?new o(U,1):U;N=a(N)?new o(N,1):N;var q={};var W={};var B={};q[t]=Math.round(C);W[t]=Math.round(U);B[t]=Math.round(N);C=r.eval(q).toString()==="0"?new o(Math.round(C),1):C;U=r.eval(W).toString()==="0"?new o(Math.round(U),1):U;N=r.eval(B).toString()==="0"?new o(Math.round(N),1):N;return[N,U,C]}}}}};u.prototype.eval=function(t){return new u(this.lhs.eval(t),this.rhs.eval(t))};u.prototype.toString=function(){return this.lhs.toString()+" = "+this.rhs.toString()};u.prototype.toTex=function(){return this.lhs.toTex()+" = "+this.rhs.toTex()};u.prototype._maxDegree=function(){var t=this.lhs._maxDegree();var e=this.rhs._maxDegree();return Math.max(t,e)};u.prototype._maxDegreeOfVariable=function(t){return Math.max(this.lhs._maxDegreeOfVariable(t),this.rhs._maxDegreeOfVariable(t))};u.prototype._variableCanBeIsolated=function(t){return this._maxDegreeOfVariable(t)===1&&this._noCrossProductsWithVariable(t)};u.prototype._noCrossProductsWithVariable=function(t){return this.lhs._noCrossProductsWithVariable(t)&&this.rhs._noCrossProductsWithVariable(t)};u.prototype._noCrossProducts=function(){return this.lhs._noCrossProducts()&&this.rhs._noCrossProducts()};u.prototype._onlyHasVariable=function(t){return this.lhs._onlyHasVariable(t)&&this.rhs._onlyHasVariable(t)};u.prototype._isLinear=function(){return this._maxDegree()===1&&this._noCrossProducts()};u.prototype._isQuadratic=function(t){return this._maxDegree()===2&&this._onlyHasVariable(t)};u.prototype._isCubic=function(t){return this._maxDegree()===3&&this._onlyHasVariable(t)};e.exports=u},{"./expressions":2,"./fractions":3,"./helper":4}],2:[function(t,e,r){var i=t("./fractions");var n=t("./helper").isInt;var s=function(t){this.constants=[];if(typeof t==="string"){var e=new o(t);var r=new Term(e);this.terms=[r]}else if(n(t)){this.constants=[new i(t,1)];this.terms=[]}else if(t instanceof i){this.constants=[t];this.terms=[]}else if(t instanceof Term){this.terms=[t]}else if(typeof t==="undefined"){this.terms=[]}};s.prototype.constant=function(){var t=new i(0,1);for(var e=0;e<this.constants.length;e++){t=t.add(this.constants[e])}return t};s.prototype.simplify=function(){var t=this.copy();for(var e=0;e<t.terms.length;e++){t.terms[e]=t.terms[e].simplify()}t._combineLikeTerms();t._moveTermsWithDegreeZeroToConstants();t._removeTermsWithCoefficientZero();t.constants=t.constant().valueOf()===0?[]:[t.constant()];t._sort();return t};s.prototype.copy=function(){var t=new s;t.constants=[];this.constants.forEach(function(e){t.constants.push(e.copy())});t.terms=[];this.terms.forEach(function(e){t.terms.push(e.copy())});return t};s.prototype.add=function(t,e){e=e===undefined?true:e;var r=this.copy();if(typeof t==="string"||t instanceof Term||n(t)||t instanceof i){var o=new s(t);return r.add(o,e)}else if(t instanceof s){var a=t.copy().terms;for(var u=0;u<r.terms.length;u++){var f=r.terms[u];for(var h=0;h<a.length;h++){var l=a[h];if(f.canBeCombinedWith(l)&&e){r.terms[u]=f.add(l);a.splice(h,1)}}}r.terms=r.terms.concat(a);r.constants=r.constants.concat(t.constants);r._sort()}else{throw"InvalidArgument"}return e?r.simplify():r};s.prototype.subtract=function(t,e){e=e===undefined?true:e;var r=this.copy();var o;if(typeof t==="string"||t instanceof Term||n(t)||t instanceof i){o=new s(t).multiply(-1)}else if(t instanceof s){o=t.multiply(-1)}else{throw"InvalidArgument"}return r.add(o,e)};s.prototype.multiply=function(t,e){e=e===undefined?true:e;var r=this.copy();if(typeof t==="string"||t instanceof Term||n(t)||t instanceof i){var o=new s(t);return r.multiply(o,e)}else if(t instanceof s){var a=t.copy();var u=[];for(var f=0;f<r.terms.length;f++){var h=r.terms[f];for(var l=0;l<a.terms.length;l++){var c=a.terms[l];u.push(h.multiply(c,e))}for(var l=0;l<a.constants.length;l++){u.push(h.multiply(a.constants[l],e))}}for(var f=0;f<a.terms.length;f++){var c=a.terms[f];for(var l=0;l<r.constants.length;l++){u.push(c.multiply(r.constants[l],e))}}var p=[];for(var f=0;f<r.constants.length;f++){var v=r.constants[f];for(var l=0;l<a.constants.length;l++){var m=a.constants[l];if(e){p.push(v.multiply(m,e))}else{var d=new Term;d=d.multiply(m,false);d=d.multiply(v,false);u.push(d)}}}r.constants=p;r.terms=u;r._sort()}else{throw"InvalidArgument"}return e?r.simplify():r};s.prototype.divide=function(t,e){e=e===undefined?true:e;if(t instanceof i||n(t)){if(t.valueOf()===0){throw"DivideByZero"}var r=this.copy();for(var s=0;s<r.terms.length;s++){var o=r.terms[s];for(var a=0;a<o.coefficients.length;a++){o.coefficients[a]=o.coefficients[a].divide(t,e)}}for(var s=0;s<r.constants.length;s++){r.constants[s]=r.constants[s].divide(t,e)}return r}else{throw"InvalidArgument"}};s.prototype.pow=function(t,e){e=e===undefined?true:e;if(n(t)){var r=this.copy();if(t===0){return(new s).add(1)}else{for(var i=1;i<t;i++){r=r.multiply(this,e)}r._sort();return r}}else{throw"InvalidArgument"}};s.prototype.eval=function(t,e){e=e===undefined?true:e;var r=new s;r.constants=e?[this.constant()]:this.constants.slice();for(var i=0;i<this.terms.length;i++){var n=this.terms[i];r=r.add(n.eval(t,e),e)}return r};s.prototype.summation=function(t,e,r){var i=this.copy();var n=new s;for(var o=e;o<r+1;o++){var a={};a[t]=o;n=n.add(i.eval(a))}return n};s.prototype.toString=function(){if(this.terms.length===0&&this.constants.length===0){return"0"}var t="";for(var e=0;e<this.terms.length;e++){var r=this.terms[e];t+=(r.coefficients[0].valueOf()<0?" - ":" + ")+r.toString()}for(var e=0;e<this.constants.length;e++){var i=this.constants[e];t+=(i.valueOf()<0?" - ":" + ")+i.abs().toString()}if(t.substring(0,3)===" - "){return"-"+t.substring(3,t.length)}else if(t.substring(0,3)===" + "){return t.substring(3,t.length)}else{return t}};s.prototype.toTex=function(t){if(this.terms.length===0&&this.constants.length===0){return"0"}var e="";for(var r=0;r<this.terms.length;r++){var i=this.terms[r];e+=(i.coefficients[0].valueOf()<0?" - ":" + ")+i.toTex(t)}for(var r=0;r<this.constants.length;r++){var n=this.constants[r];e+=(n.valueOf()<0?" - ":" + ")+n.abs().toTex()}if(e.substring(0,3)===" - "){return"-"+e.substring(3,e.length)}else if(e.substring(0,3)===" + "){return e.substring(3,e.length)}else{return e}};s.prototype._removeTermsWithCoefficientZero=function(){var t=[];for(var e=0;e<this.terms.length;e++){var r=this.terms[e].coefficient().reduce();if(r.numer!=0){t.push(this.terms[e])}}this.terms=t;return this};s.prototype._combineLikeTerms=function(){for(var t=0;t<this.terms.length;t++){var e=this.terms[t];for(var r=t+1;r<this.terms.length;r++){var i=this.terms[r];if(e.canBeCombinedWith(i)){e=e.add(i);this.terms[t]=e;this.terms.splice(r,1)}}}return this};s.prototype._moveTermsWithDegreeZeroToConstants=function(){var t=[];var e=new i(0,1);for(var r=0;r<this.terms.length;r++){var n=this.terms[r];if(n.variables.length===0){e=e.add(n.coefficient())}else{t.push(n)}}this.constants.push(e);this.terms=t;return this};s.prototype._sort=function(){function t(t,e){var r=t.maxDegree();var i=e.maxDegree();if(r===i){var n=t.variables.length;var s=e.variables.length;return s-n}else{return i-r}}this.terms=this.terms.sort(t);return this};s.prototype._hasVariable=function(t){for(var e=0;e<this.terms.length;e++){if(this.terms[e].hasVariable(t)){return true}}return false};s.prototype._onlyHasVariable=function(t){for(var e=0;e<this.terms.length;e++){if(!this.terms[e].onlyHasVariable(t)){return false}}return true};s.prototype._noCrossProductsWithVariable=function(t){for(var e=0;e<this.terms.length;e++){var r=this.terms[e];if(r.hasVariable(t)&&!r.onlyHasVariable(t)){return false}}return true};s.prototype._noCrossProducts=function(){for(var t=0;t<this.terms.length;t++){var e=this.terms[t];if(e.variables.length>1){return false}}return true};s.prototype._maxDegree=function(){var t=1;for(var e=0;e<this.terms.length;e++){var r=this.terms[e].maxDegree();if(r>t){t=r}}return t};s.prototype._maxDegreeOfVariable=function(t){var e=1;for(var r=0;r<this.terms.length;r++){var i=this.terms[r].maxDegreeOfVariable(t);if(i>e){e=i}}return e};s.prototype._quadraticCoefficients=function(){var t;var e=new i(0,1);for(var r=0;r<this.terms.length;r++){var n=this.terms[r];if(n.maxDegree()===2){t=n.coefficient().copy()}else if(n.maxDegree()===1){e=n.coefficient().copy()}}var s=new i(0,1);for(var r=0;r<this.constants.length;r++){s=s.add(this.constants[r])}return{a:t,b:e,c:s}};s.prototype._cubicCoefficients=function(){var t;var e=new i(0,1);var r=new i(0,1);for(var n=0;n<this.terms.length;n++){var s=this.terms[n];if(s.maxDegree()===3){t=s.coefficient().copy()}else if(s.maxDegree()===2){e=s.coefficient().copy()}else if(s.maxDegree()===1){r=s.coefficient().copy()}}var o=new i(0,1);for(var n=0;n<this.constants.length;n++){o=o.add(this.constants[n])}return{a:t,b:e,c:r,d:o}};Term=function(t){if(t instanceof o){this.variables=[t.copy()]}else if(typeof t==="undefined"){this.variables=[]}else{throw"InvalidArgument"}this.coefficients=[new i(1,1)]};Term.prototype.coefficient=function(){var t=new i(1,1);for(var e=0;e<this.coefficients.length;e++){t=t.multiply(this.coefficients[e])}return t};Term.prototype.simplify=function(){var t=this.copy();t.coefficients=[this.coefficient()];t.combineVars();return t.sort()};Term.prototype.combineVars=function(){var t={};for(var e=0;e<this.variables.length;e++){var r=this.variables[e];if(r.variable in t){t[r.variable]+=r.degree}else{t[r.variable]=r.degree}}var i=[];for(var n in t){var s=new o(n);s.degree=t[n];i.push(s)}this.variables=i;return this};Term.prototype.copy=function(){var t=new Term;t.coefficients=[];t.variables=[];for(var e=0;e<this.variables.length;e++){t.variables.push(this.variables[e].copy())}for(var e=0;e<this.coefficients.length;e++){t.coefficients.push(this.coefficients[e].copy())}return t};Term.prototype.add=function(t){if(t instanceof Term&&this.canBeCombinedWith(t)){var e=this.copy();e.coefficients=[e.coefficient().add(t.coefficient())];return e}else{throw"InvalidArgument"}};Term.prototype.subtract=function(t){if(t instanceof Term&&this.canBeCombinedWith(t)){var e=this.copy();e.coefficients=[e.coefficient().subtract(t.coefficient())];return e}else{throw"InvalidArgument"}};Term.prototype.multiply=function(t,e){e=e===undefined?true:e;var r=this.copy();if(t instanceof Term){var s=t.copy();r.variables=r.variables.concat(s.variables);for(var o=0;o<s.coefficients.length;o++){r.coefficients.unshift(s.coefficients[o])}}else if(n(t)||t instanceof i){var a=n(t)?new i(t,1):t;if(r.variables.length===0){r.coefficients.push(a)}else{r.coefficients.unshift(a)}}else{throw"InvalidArgument"}return e?r.simplify():r};Term.prototype.divide=function(t,e){e=e===undefined?true:e;if(n(t)||t instanceof i){var r=this.copy();for(var s=0;s<r.coefficients.length;s++){r.coefficients[s]=r.coefficients[s].divide(t,e)}return r}else{throw"InvalidArgument"}};Term.prototype.eval=function(t,e){e=e===undefined?true:e;var r=this.copy();var o=Object.keys(t);var a=new s(1);for(var u=0;u<this.coefficients.length;u++){a=a.multiply(this.coefficients[u],e)}for(var u=0;u<r.variables.length;u++){var f=r.variables[u];var h=new s(f.variable).pow(f.degree);for(var l=0;l<o.length;l++){if(f.variable==o[l]){var c=t[o[l]];if(c instanceof i||c instanceof s){h=c.pow(f.degree)}else if(n(c)){h=Math.pow(c,f.degree)}else{throw"InvalidArgument"}}}a=a.multiply(h,e)}return a};Term.prototype.hasVariable=function(t){for(var e=0;e<this.variables.length;e++){if(this.variables[e].variable===t){return true}}return false};Term.prototype.maxDegree=function(){var t=1;for(var e=0;e<this.variables.length;e++){if(this.variables[e].degree>t){t=this.variables[e].degree}}return t};Term.prototype.maxDegreeOfVariable=function(t){var e=1;for(var r=0;r<this.variables.length;r++){var i=this.variables[r];if(i.variable===t){if(i.degree>e){e=i.degree}}}return e};Term.prototype.canBeCombinedWith=function(t){if(t instanceof Term){var e=this.variables;var r=t.variables;if(e.length!=r.length){return false}matches=0;for(var i=0;i<e.length;i++){for(var n=0;n<r.length;n++){if(e[i].variable===r[n].variable&&e[i].degree===r[n].degree){matches+=1}}}if(matches!=e.length){return false}}return true};Term.prototype.onlyHasVariable=function(t){for(var e=0;e<this.variables.length;e++){if(this.variables[e].variable!=t){return false}}return true};Term.prototype.sort=function(){function t(t,e){return e.degree-t.degree}this.variables=this.variables.sort(t);return this};Term.prototype.toString=function(){var t="";for(var e=0;e<this.coefficients.length;e++){var r=this.coefficients[e];if(!(r.abs().numer===1&&r.abs().denom===1)){t+=" * "+r.toString()}}for(var e=0;e<this.variables.length;e++){t+=this.variables[e].toString()}t=t.substring(0,3)===" * "?t.substring(3,t.length):t;t=t.substring(0,1)==="-"?t.substring(1,t.length):t;return t};Term.prototype.toTex=function(t){if(t===undefined){var t={}}if(!("multiplication"in t)){t["multiplication"]="cdot"}var e=" \\"+t["multiplication"]+" ";var r="";for(var i=0;i<this.coefficients.length;i++){var n=this.coefficients[i];if(!(n.abs().numer===1&&n.abs().denom===1)){r+=e+n.toTex()}}for(var i=0;i<this.variables.length;i++){r+=this.variables[i].toTex()}r=r.substring(0,e.length)===e?r.substring(e.length,r.length):r;r=r.substring(0,1)==="-"?r.substring(1,r.length):r;return r};var o=function(t){if(typeof t==="string"){this.variable=t;this.degree=1}else{throw"InvalidArgument"}};o.prototype.copy=function(){var t=new o(this.variable);t.degree=this.degree;return t};o.prototype.toString=function(){var t=this.degree;var e=this.variable;if(t===0){return""}else if(t===1){return e}else{return e+"^"+t}};o.prototype.toTex=function(){var t=this.degree;var e=this.variable;if(GREEK_LETTERS.indexOf(e)>-1){e="\\"+e}if(t===0){return""}else if(t===1){return e}else{return e+"^{"+t+"}"}};e.exports={Expression:s,Term:Term,Variable:o}},{"./fractions":3,"./helper":4}],3:[function(t,e,r){var i=t("./helper").isInt;var n=t("./helper").gcd;var s=t("./helper").lcm;var o=function(t,e){if(e==0){throw"DivideByZero"}else if(i(t)&&i(e)){this.numer=t;this.denom=e}else{throw"InvalidArgument"}};o.prototype.copy=function(){return new o(this.numer,this.denom)};o.prototype.reduce=function(){var t=this.copy();var e=n(t.numer,t.denom);t.numer=t.numer/e;t.denom=t.denom/e;if(Math.sign(t.denom)==-1&&Math.sign(t.numer)==1){t.numer*=-1;t.denom*=-1}return t};o.prototype.equalTo=function(t){if(t instanceof o){var e=this.reduce();var r=t.reduce();if(e.numer===r.numer&&e.denom===r.denom){return true}}return false};o.prototype.add=function(t,e){e=e===undefined?true:e;var r,n;if(t instanceof o){r=t.numer;n=t.denom}else if(i(t)){r=t;n=1}else{throw"InvalidArgument"}var a=this.copy();if(this.denom==n){a.numer+=r}else{var u=s(a.denom,n);var f=u/a.denom;var h=u/n;a.numer*=f;a.denom*=f;r*=h;a.numer+=r}return e?a.reduce():a};o.prototype.subtract=function(t,e){e=e===undefined?true:e;var r=this.copy();if(t instanceof o){return r.add(new o(-t.numer,t.denom),e)}else if(i(t)){return r.add(new o(-t,1),e)}else{throw"InvalidArgument"}};o.prototype.multiply=function(t,e){e=e===undefined?true:e;var r,n;if(t instanceof o){r=t.numer;n=t.denom}else if(i(t)&&t){r=t;n=1}else if(t==0){r=0;n=1}else{throw"InvalidArgument"}var s=this.copy();s.numer*=r;s.denom*=n;return e?s.reduce():s};o.prototype.divide=function(t,e){e=e===undefined?true:e;if(t.valueOf()===0){throw"DivideByZero"}var r=this.copy();if(t instanceof o){return r.multiply(new o(t.denom,t.numer),e)}else if(i(t)){return r.multiply(new o(1,t),e)}else{throw"InvalidArgument"}};o.prototype.pow=function(t,e){e=e===undefined?true:e;var r=this.copy();r.numer=Math.pow(r.numer,t);r.denom=Math.pow(r.denom,t);return e?r.reduce():r};o.prototype.abs=function(){var t=this.copy();t.numer=Math.abs(t.numer);t.denom=Math.abs(t.denom);return t};o.prototype.valueOf=function(){return this.numer/this.denom};o.prototype.toString=function(){if(this.numer===0){return"0"}else if(this.denom===1){return this.numer.toString()}else if(this.denom===-1){return(-this.numer).toString()}else{return this.numer+"/"+this.denom}};o.prototype.toTex=function(){if(this.numer===0){return"0"}else if(this.denom===1){return this.numer.toString()}else if(this.denom===-1){return(-this.numer).toString()}else{return"\\frac{"+this.numer+"}{"+this.denom+"}"}};o.prototype._squareRootIsRational=function(){if(this.valueOf()===0){return true}var t=Math.sqrt(this.numer);var e=Math.sqrt(this.denom);return i(t)&&i(e)};o.prototype._cubeRootIsRational=function(){if(this.valueOf()===0){return true}var t=Math.cbrt(this.numer);var e=Math.cbrt(this.denom);return i(t)&&i(e)};e.exports=o},{"./helper":4}],4:[function(t,e,r){function i(t,e){while(e){var r=t;t=e;e=r%e}return t}function n(t,e){return t*e/i(t,e)}function s(t){if(typeof t=="number"){if(t%1===0){return true}}return false}function o(t,e){e=typeof e==="undefined"?2:e;var r=Math.pow(10,e);return Math.round(parseFloat(t)*r)/r}Number.prototype.toTex=function(){return this.toString()};Array.prototype.toTex=function(){var t=[];for(var e=0;e<this.length;e++){t.push(this[e].toTex())}return t.join()};GREEK_LETTERS=["alpha","beta","gamma","Gamma","delta","Delta","epsilon","varepsilon","zeta","eta","theta","vartheta","Theta","iota","kappa","lambda","Lambda","mu","nu","xi","Xi","pi","Pi","rho","varrho","sigma","Sigma","tau","upsilon","Upsilon","phi","varphi","Phi","chi","psi","Psi","omega","Omega"];r.gcd=i;r.lcm=n;r.isInt=s;r.round=o;r.GREEK_LETTERS=GREEK_LETTERS},{}],5:[function(t,e,r){"use strict";var i=function(){this.pos=0;this.buf=null;this.buflen=0;this.optable={"+":"PLUS","-":"MINUS","*":"MULTIPLY","/":"DIVIDE","^":"POWER","(":"L_PAREN",")":"R_PAREN","=":"EQUALS"}};i.prototype.input=function(t){this.pos=0;this.buf=t;this.buflen=t.length};i.prototype.token=function(){this._skipnontokens();if(this.pos>=this.buflen){return null}var t=this.buf.charAt(this.pos);var e=this.optable[t];if(e!==undefined){if(e==="L_PAREN"||e==="R_PAREN"){return{type:"PAREN",value:e,pos:this.pos++}}else{return{type:"OPERATOR",value:e,pos:this.pos++}}}else{if(i._isalpha(t)){return this._process_identifier()}else if(i._isdigit(t)){return this._process_number()}else{throw new Error("Token error at character "+t+" at position "+this.pos)}}};i._isdigit=function(t){return t>="0"&&t<="9"};i._isalpha=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"};i._isalphanum=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"};i.prototype._process_digits=function(t){var e=t;while(e<this.buflen&&i._isdigit(this.buf.charAt(e))){e++}return e};i.prototype._process_number=function(){var t=this._process_digits(this.pos);if(this.buf.charAt(t)==="."){t=this._process_digits(t+1)}if(this.buf.charAt(t-1)==="."){throw new Error("Decimal point without decimal digits at position "+(t-1))}var e={type:"NUMBER",value:this.buf.substring(this.pos,t),pos:this.pos};this.pos=t;return e};i.prototype._process_identifier=function(){var t=this.pos+1;while(t<this.buflen&&i._isalphanum(this.buf.charAt(t))){t++}var e={type:"IDENTIFIER",value:this.buf.substring(this.pos,t),pos:this.pos};this.pos=t;return e};i.prototype._skipnontokens=function(){while(this.pos<this.buflen){var t=this.buf.charAt(this.pos);if(t==" "||t=="	"||t=="\r"||t=="\n"){this.pos++}else{break}}};e.exports=i},{}],6:[function(t,e,r){"use strict";var i=t("./lexer"),n=t("./expressions").Expression,s=t("./equations");var o=function(){this.lexer=new i;this.current_token=null;this.operator_stack=[];this.output=[];this.prec={EQUALS:1,PLUS:2,MINUS:2,MULTIPLY:3,DIVIDE:3,POWER:4};this.asso={PLUS:"LEFT",MINUS:"LEFT",MULTIPLY:"LEFT",DIVIDE:"LEFT",POWER:"RIGHT",EQUALS:"RIGHT"}};o.prototype.parse=function(t){this.operator_stack=[];this.output=[];this.lexer.input(t);this.shunting_yard();return this.construct_expression()};o.prototype.stack_top=function(){return this.operator_stack[this.operator_stack.length-1]};o.prototype.stack_head_to_ouput=function(){this.output.push(this.operator_stack.pop())};o.prototype.shunting_yard=function(){this.current_token=this.lexer.token();while(this.current_token!==null){if(this.current_token.type==="NUMBER"||this.current_token.type==="IDENTIFIER"){this.output.push(this.current_token)}else if(this.current_token.type==="OPERATOR"){var t=this.current_token;while(this.operator_stack.length>0){var e=this.stack_top();if(this.asso[t.value]==="LEFT"&&this.prec[t.value]<=this.prec[e.value]||this.asso[t.value]==="RIGHT"&&this.prec[t.value]<this.prec[e.value]){this.stack_head_to_ouput()}else{break}}this.operator_stack.push(t)}else{if(this.current_token.value==="L_PAREN"){this.operator_stack.push(this.current_token)}else{while(this.stack_top()!==undefined){if(this.stack_top().value==="L_PAREN"){break}else{this.stack_head_to_ouput()}}var r=this.operator_stack.pop();if(r===undefined){throw new Error("Unbalanced Parenthesis")}}}this.current_token=this.lexer.token()}while(this.operator_stack.length>0){if(this.stack_top().type==="PAREN"){throw new Error("Unbalanced Parenthesis")}else{this.stack_head_to_ouput()}}};o.prototype.convert_for_application=function(t){if(t.type==="NUMBER"){if(parseInt(t.value)==t.value){return new n(parseInt(t.value))}else{var e=t.value.split(".");var r=e[1].length;var i=Math.pow(10,r);var s=parseFloat(t.value);return new n(parseInt(s*i)).divide(i)}}else{return new n(t.value)}};o.prototype.apply_operator=function(t,e,r){var i;switch(t.value){case"PLUS":i=e.add(r);break;case"MINUS":i=e.subtract(r);break;case"MULTIPLY":i=e.multiply(r);break;case"DIVIDE":i=e.divide(parseInt(r.toString()));break;case"POWER":i=e.pow(parseInt(r.toString()));break;case"EQUALS":i=new s(e,r);break}return i};o.prototype.construct_expression=function(){var t=this.output.pop();if(t===undefined)throw new Error("Missing operand");if(t.type==="OPERATOR"){var e=this.construct_expression();var r=this.construct_expression();return this.apply_operator(t,r,e)}else{return this.convert_for_application(t)}};e.exports=o},{"./equations":1,"./expressions":2,"./lexer":5}],7:[function(t,e,r){var i=t("./src/fractions");var n=t("./src/expressions").Expression;var s=t("./src/equations");var o=t("./src/parser");var a=function(t){var e=new o;var r=e.parse(t);return r};e.exports={Fraction:i,Expression:n,Equation:s,parse:a}},{"./src/equations":1,"./src/expressions":2,"./src/fractions":3,"./src/parser":6}]},{},[7])(7)});