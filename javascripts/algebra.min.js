(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.algebra=e()}})(function(){var e,t,r;return function i(e,t,r){function n(o,s){if(!t[o]){if(!e[o]){var u=typeof require=="function"&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var r=e[o][1][t];return n(r?r:t)},l,l.exports,i,e,t,r)}return t[o].exports}var a=typeof require=="function"&&require;for(var o=0;o<r.length;o++)n(r[o]);return n}({1:[function(e,t,r){var i=e("./expressions").Expression;var n=e("./expressions").Variable;var a=e("./expressions").Term;var o=e("./fractions");var s=e("./helper").isInt;var u=function(e,t){if(e instanceof i){this.lhs=e;if(t instanceof i){this.rhs=t}else if(t instanceof o||s(t)){this.rhs=(new i).add(t)}else{throw"InvalidArgument"}}else{throw"InvalidArgument"}};u.prototype.solveFor=function(e){if(!this.lhs._hasVariable(e)&&!this.rhs._hasVariable(e)){throw"InvalidArgument"}if(this._isLinear()||this._variableCanBeIsolated(e)){var t=new a(new n(e));var r=new i;var u=new i;for(var f=0;f<this.rhs.terms.length;f++){var l=this.rhs.terms[f];if(l.canBeCombinedWith(t)){r=r.subtract(l)}else{u=u.add(l)}}for(var f=0;f<this.lhs.terms.length;f++){var l=this.lhs.terms[f];if(l.canBeCombinedWith(t)){r=r.add(l)}else{u=u.subtract(l)}}u=u.subtract(this.lhs.constant);u=u.add(this.rhs.constant);if(r.terms.length===0){if(r.constant.equalTo(u.constant)){return"all reals"}else{throw"NoSolution"}}u=u.divide(r.terms[0].coefficient);if(u.terms.length===0){return u.constant.reduce()}u._sort();return u}else if(this._isQuadratic(e)){var r=this.lhs.copy();for(var f=0;f<this.rhs.terms.length;f++){r=r.subtract(this.rhs.terms[f])}r=r.subtract(this.rhs.constant);var c=r._quadraticCoefficients();var h=c.a;var v=c.b;var m=c.c;var p=v.pow(2).subtract(h.multiply(m).multiply(4));if(p.valueOf()>=0){if(p.valueOf()===0){return[v.multiply(-1).divide(h.multiply(2)).reduce()]}else{var d;if(p._squareRootIsRational()){d=p.pow(.5);var y=v.multiply(-1).subtract(d).divide(h.multiply(2));var g=v.multiply(-1).add(d).divide(h.multiply(2));return[y.reduce(),g.reduce()]}else{d=Math.sqrt(p.valueOf());h=h.valueOf();v=v.valueOf();var y=(-v-d)/2*h;var g=(-v+d)/2*h;return[y,g]}}}else{return[]}}else if(this._isCubic(e)){var r=this.lhs.copy();for(var f=0;f<this.rhs.terms.length;f++){r=r.subtract(this.rhs.terms[f])}r=r.subtract(this.rhs.constant);var c=r._cubicCoefficients();var h=c.a;var v=c.b;var m=c.c;var b=c.d;var w=h.multiply(v).multiply(m).multiply(b).multiply(18);w=w.subtract(v.pow(3).multiply(b).multiply(4));w=w.add(v.pow(2).multiply(m.pow(2)));w=w.subtract(h.multiply(m.pow(3)).multiply(4));w=w.subtract(h.pow(2).multiply(b.pow(2)).multiply(27));var x=v.pow(2).subtract(h.multiply(m).multiply(3));if(w.valueOf()===0){if(x.valueOf()===0){var y=v.multiply(-1).divide(h.multiply(3));return[y.reduce()]}else{var y=h.multiply(v).multiply(m).multiply(4);y=y.subtract(h.pow(2).multiply(b).multiply(9));y=y.subtract(v.pow(3));y=y.divide(h.multiply(x));var g=h.multiply(b).multiply(9).subtract(v.multiply(m)).divide(x.multiply(2));return[y.reduce(),g.reduce()]}}else{var _=new i("t").subtract(v.divide(h.multiply(3)));var T={};T[e]=_;var M=r.eval(T);var O=M._cubicCoefficients();var h=O.a.valueOf();var v=O.b.valueOf();var m=O.c.valueOf();var b=O.d.valueOf();if(w.valueOf()<0){var I=-v/3*h;var C=Math.pow(I,3)+(v*m-3*h*b)/(6*h^2);var D=m/3*h;var V=Math.sqrt(Math.pow(C,2)+Math.pow(D-Math.pow(I,2),3));var S=Math.cbrt(C+V)+Math.cbrt(C-V)+I;S=s(S)?new o(S,1):S;var T={};T[e]=Math.round(S);S=r.eval(T).toString()==="0"?new o(Math.round(S),1):S;return[S]}else{var C=Math.sqrt(-3*h*m/(9*Math.pow(h,2)));var E=2*h*Math.pow(C,3);var A=1/3*Math.acos(-b/E);var q=2*C*Math.cos(A);var P=2*C*Math.cos(2*Math.PI/3-A);var W=2*C*Math.cos(2*Math.PI/3+A);var R=q+_.constant.valueOf();var B=P+_.constant.valueOf();var L=W+_.constant.valueOf();R=s(R)?new o(R,1):R;B=s(B)?new o(B,1):B;L=s(L)?new o(L,1):L;var H={};var Z={};var G={};H[e]=Math.round(R);Z[e]=Math.round(B);G[e]=Math.round(L);R=r.eval(H).toString()==="0"?new o(Math.round(R),1):R;B=r.eval(Z).toString()==="0"?new o(Math.round(B),1):B;L=r.eval(G).toString()==="0"?new o(Math.round(L),1):L;return[L,B,R]}}}};u.prototype.eval=function(e){return new u(this.lhs.eval(e),this.rhs.eval(e))};u.prototype.toString=function(){return this.lhs.toString()+" = "+this.rhs.toString()};u.prototype.toTex=function(){return this.lhs.toTex()+" = "+this.rhs.toTex()};u.prototype._maxDegree=function(){var e=this.lhs._maxDegree();var t=this.rhs._maxDegree();return Math.max(e,t)};u.prototype._maxDegreeOfVariable=function(e){return Math.max(this.lhs._maxDegreeOfVariable(e),this.rhs._maxDegreeOfVariable(e))};u.prototype._variableCanBeIsolated=function(e){return this._maxDegreeOfVariable(e)===1&&this._noCrossProductsWithVariable(e)};u.prototype._noCrossProductsWithVariable=function(e){return this.lhs._noCrossProductsWithVariable(e)&&this.rhs._noCrossProductsWithVariable(e)};u.prototype._noCrossProducts=function(){return this.lhs._noCrossProducts()&&this.rhs._noCrossProducts()};u.prototype._onlyHasVariable=function(e){return this.lhs._onlyHasVariable(e)&&this.rhs._onlyHasVariable(e)};u.prototype._isLinear=function(){return this._maxDegree()===1&&this._noCrossProducts()};u.prototype._isQuadratic=function(e){return this._maxDegree()===2&&this._onlyHasVariable(e)};u.prototype._isCubic=function(e){return this._maxDegree()===3&&this._onlyHasVariable(e)};t.exports=u},{"./expressions":2,"./fractions":3,"./helper":4}],2:[function(e,t,r){var i=e("./fractions");var n=e("./helper").isInt;var a=function(e){this.constant=new i(0,1);if(typeof e==="string"){var t=new o(e);var r=new Term(t);this.terms=[r]}else if(n(e)){this.constant=new i(e,1);this.terms=[]}else if(e instanceof i){this.constant=e;this.terms=[]}else if(e instanceof Term){this.terms=[e]}else if(typeof e==="undefined"){this.terms=[]}};a.prototype.copy=function(){var e=new a;e.constant=this.constant.copy();e.terms=[];this.terms.forEach(function(t){e.terms.push(t.copy())});return e};a.prototype.add=function(e){var t=this.copy();if(typeof e==="string"){var r=new a(e);return t.add(r)}else if(e instanceof Term){var r=new a;r.terms=[e.copy()];return t.add(r)}else if(e instanceof a){t.constant=t.constant.add(e.constant);var o=e.copy().terms;for(var s=0;s<t.terms.length;s++){var u=t.terms[s];for(var f=0;f<o.length;f++){var l=o[f];if(u.canBeCombinedWith(l)){t.terms[s]=u.add(l);o.splice(f,1)}}}t.terms=t.terms.concat(o)}else if(n(e)||e instanceof i){t.constant=t.constant.add(e)}else{throw"InvalidArgument"}t._removeTermsWithCoefficientZero();t._sort();return t};a.prototype.subtract=function(e){var t=this.copy();var r;if(typeof e==="string"){r=new a(e).multiply(-1)}else if(e instanceof Term){r=new a;r.terms=[e.copy().multiply(-1)]}else if(e instanceof a){r=e.copy();r.constant=r.constant.multiply(-1);for(var o=0;o<r.terms.length;o++){r.terms[o]=r.terms[o].multiply(-1)}}else if(n(e)){r=-e}else if(e instanceof i){r=e.multiply(-1)}else{throw"InvalidArgument"}return t.add(r)};a.prototype.multiply=function(e){var t=this.copy();if(typeof e==="string"){var r=new a(e);return t.multiply(r)}else if(e instanceof Term){var r=new a;r.terms=[e.copy()];return t.multiply(r)}else if(e instanceof a){var o=e.copy();var s=[];for(var u=0;u<t.terms.length;u++){var f=t.terms[u];for(var l=0;l<o.terms.length;l++){var c=o.terms[l];s.push(f.multiply(c))}s.push(f.multiply(o.constant))}for(var u=0;u<o.terms.length;u++){var c=o.terms[u];s.push(c.multiply(t.constant))}t.constant=t.constant.multiply(o.constant);t.terms=s;t._combineLikeTerms();t._removeTermsWithCoefficientZero();t._sort()}else if(e instanceof i||n(e)){t.constant=t.constant.multiply(e);for(var u=0;u<t.terms.length;u++){t.terms[u].coefficient=t.terms[u].coefficient.multiply(e)}}else{throw"InvalidArgument"}return t};a.prototype.divide=function(e){if(e instanceof i||n(e)){if(e==0){throw"DivideByZero"}var t=this.copy();t.constant=t.constant.divide(e);for(var r=0;r<t.terms.length;r++){t.terms[r].coefficient=t.terms[r].coefficient.divide(e)}return t}else{throw"InvalidArgument"}};a.prototype.pow=function(e){if(n(e)){var t=this.copy();if(e===0){return(new a).add(1)}else{for(var r=1;r<e;r++){t=t.multiply(this)}t._sort();return t}}else{throw"InvalidArgument"}};a.prototype.eval=function(e){var t=new a;for(var r=0;r<this.terms.length;r++){var i=this.terms[r];t=t.add(i.eval(e))}return t.add(this.constant)};a.prototype.toString=function(){if(this.terms.length==0){return this.constant.toString()}var e=this.terms[0].coefficient.reduce();var t=(e.numer<0?"-":"")+this.terms[0].toString();for(var r=1;r<this.terms.length;r++){var i=this.terms[r].coefficient.reduce();t+=(i.numer<0?" - ":" + ")+this.terms[r].toString()}var n=this.constant.reduce();if(n.numer){t+=(n.numer<0?" - ":" + ")+n.abs().toString()}return t};a.prototype.toTex=function(){if(this.terms.length==0){return this.constant.toTex()}var e=this.terms[0].coefficient.reduce();var t=(e.numer<0?"-":"")+this.terms[0].toTex();for(var r=1;r<this.terms.length;r++){var i=this.terms[r].coefficient.reduce();t+=(i.numer<0?" - ":" + ")+this.terms[r].toTex()}var n=this.constant.reduce();if(n.numer){t+=(n.numer<0?" - ":" + ")+n.abs().toTex()}return t};a.prototype._removeTermsWithCoefficientZero=function(){var e=[];for(var t=0;t<this.terms.length;t++){var r=this.terms[t].coefficient.reduce();if(r.numer!=0){e.push(this.terms[t])}}this.terms=e;return this};a.prototype._combineLikeTerms=function(){for(var e=0;e<this.terms.length;e++){var t=this.terms[e];for(var r=e+1;r<this.terms.length;r++){var i=this.terms[r];if(t.canBeCombinedWith(i)){t=t.add(i);this.terms[e]=t;this.terms.splice(r,1)}}}return this};a.prototype._sort=function(){function e(e,t){var r=e.maxDegree();var i=t.maxDegree();if(r===i){var n=e.variables.length;var a=t.variables.length;return a-n}else{return i-r}}this.terms=this.terms.sort(e);return this};a.prototype._hasVariable=function(e){for(var t=0;t<this.terms.length;t++){if(this.terms[t].hasVariable(e)){return true}}return false};a.prototype._onlyHasVariable=function(e){for(var t=0;t<this.terms.length;t++){if(!this.terms[t].onlyHasVariable(e)){return false}}return true};a.prototype._noCrossProductsWithVariable=function(e){for(var t=0;t<this.terms.length;t++){var r=this.terms[t];if(r.hasVariable(e)&&!r.onlyHasVariable(e)){return false}}return true};a.prototype._noCrossProducts=function(){for(var e=0;e<this.terms.length;e++){var t=this.terms[e];if(t.variables.length>1){return false}}return true};a.prototype._maxDegree=function(){var e=1;for(var t=0;t<this.terms.length;t++){var r=this.terms[t].maxDegree();if(r>e){e=r}}return e};a.prototype._maxDegreeOfVariable=function(e){var t=1;for(var r=0;r<this.terms.length;r++){var i=this.terms[r].maxDegreeOfVariable(e);if(i>t){t=i}}return t};a.prototype._quadraticCoefficients=function(){var e;var t=new i(0,1);var r=this.constant.copy();for(var n=0;n<this.terms.length;n++){var a=this.terms[n];if(a.maxDegree()===2){e=a.coefficient.copy()}else if(a.maxDegree()===1){t=a.coefficient.copy()}}return{a:e,b:t,c:r}};a.prototype._cubicCoefficients=function(){var e;var t=new i(0,1);var r=new i(0,1);var n=this.constant.copy();for(var a=0;a<this.terms.length;a++){var o=this.terms[a];if(o.maxDegree()===3){e=o.coefficient.copy()}else if(o.maxDegree()===2){t=o.coefficient.copy()}else if(o.maxDegree()===1){r=o.coefficient.copy()}}return{a:e,b:t,c:r,d:n}};Term=function(e){if(e instanceof o){this.variables=[e.copy()]}else if(typeof e==="undefined"){this.variables=[]}else{throw"InvalidArgument"}this.coefficient=new i(1,1)};Term.prototype.copy=function(){var e=new Term;e.variables=[];for(var t=0;t<this.variables.length;t++){e.variables.push(this.variables[t].copy())}e.coefficient=this.coefficient.copy();return e};Term.prototype.add=function(e){if(e instanceof Term&&this.canBeCombinedWith(e)){var t=this.copy();t.coefficient=t.coefficient.add(e.coefficient);return t}else{throw"InvalidArgument"}};Term.prototype.subtract=function(e){if(e instanceof Term&&this.canBeCombinedWith(e)){var t=this.copy();t.coefficient=t.coefficient.subtract(e.coefficient);return t}else{throw"InvalidArgument"}};Term.prototype.multiply=function(e){var t=this.copy();if(e instanceof Term){var r=e.copy();var a=t.variables;var o=r.variables;for(var s=0;s<a.length;s++){for(var u=0;u<o.length;u++){if(a[s].variable===o[u].variable){a[s].degree+=o[u].degree;o[u].throwaway=true}}}for(var s=0;s<o.length;s++){if(!o[s].throwaway){a.push(o[s])}}t.coefficient=t.coefficient.multiply(r.coefficient)}else if(n(e)||e instanceof i){t.coefficient=t.coefficient.multiply(e)}else{throw"InvalidArgument"}return t.sort()};Term.prototype.divide=function(e){if(n(e)||e instanceof i){var t=this.copy();t.coefficient=t.coefficient.divide(e);return t}else{throw"InvalidArgument"}};Term.prototype.eval=function(e){var t=this.copy();var r=Object.keys(e);var o=new a(this.coefficient);for(var s=0;s<t.variables.length;s++){var u=t.variables[s];var f=new a(u.variable).pow(u.degree);for(var l=0;l<r.length;l++){if(u.variable==r[l]){var c=e[r[l]];if(c instanceof i||c instanceof a){f=c.pow(u.degree)}else if(n(c)){f=Math.pow(c,u.degree)}else{throw"InvalidArgument"}}}o=o.multiply(f)}return o};Term.prototype.hasVariable=function(e){for(var t=0;t<this.variables.length;t++){if(this.variables[t].variable===e){return true}}return false};Term.prototype.maxDegree=function(){var e=1;for(var t=0;t<this.variables.length;t++){if(this.variables[t].degree>e){e=this.variables[t].degree}}return e};Term.prototype.maxDegreeOfVariable=function(e){var t=1;for(var r=0;r<this.variables.length;r++){var i=this.variables[r];if(i.variable===e){if(i.degree>t){t=i.degree}}}return t};Term.prototype.canBeCombinedWith=function(e){if(e instanceof Term){var t=this.variables;var r=e.variables;if(t.length!=r.length){return false}matches=0;for(var i=0;i<t.length;i++){for(var n=0;n<r.length;n++){if(t[i].variable===r[n].variable&&t[i].degree===r[n].degree){matches+=1}}}if(matches!=t.length){return false}}return true};Term.prototype.onlyHasVariable=function(e){for(var t=0;t<this.variables.length;t++){if(this.variables[t].variable!=e){return false}}return true};Term.prototype.sort=function(){function e(e,t){return t.degree-e.degree}this.variables=this.variables.sort(e);return this};Term.prototype.toString=function(){var e;var t=this.coefficient.reduce().abs();if(t.valueOf()===1){e=""}else{e=t.toString()}for(var r=0;r<this.variables.length;r++){e+=this.variables[r].toString()}return e};Term.prototype.toTex=function(){var e;var t=this.coefficient.reduce().abs();if(t.valueOf()===1){e=""}else{e=t.toTex()}for(var r=0;r<this.variables.length;r++){e+=this.variables[r].toTex()}return e};var o=function(e){if(typeof e==="string"){this.variable=e;this.degree=1}else{throw"InvalidArgument"}};o.prototype.copy=function(){var e=new o(this.variable);e.degree=this.degree;return e};o.prototype.toString=function(){var e=this.degree;var t=this.variable;if(e===0){return""}else if(e===1){return t}else{return t+"^"+e}};o.prototype.toTex=function(){var e=this.degree;var t=this.variable;if(GREEK_LETTERS.indexOf(t)>-1){t="\\"+t}if(e===0){return""}else if(e===1){return t}else{return t+"^{"+e+"}"}};t.exports={Expression:a,Term:Term,Variable:o}},{"./fractions":3,"./helper":4}],3:[function(e,t,r){var i=e("./helper").isInt;var n=e("./helper").gcd;var a=e("./helper").lcm;var o=function(e,t){if(t==0){throw"DivideByZero"}else if(i(e)&&i(t)){this.numer=e;this.denom=t}else{throw"InvalidArgument"}};o.prototype.copy=function(){return new o(this.numer,this.denom)};o.prototype.reduce=function(){var e=this.copy();var t=n(e.numer,e.denom);e.numer=e.numer/t;e.denom=e.denom/t;if(Math.sign(e.denom)==-1&&Math.sign(e.numer)==1){e.numer*=-1;e.denom*=-1}return e};o.prototype.equalTo=function(e){if(e instanceof o){var t=this.reduce();var r=e.reduce();if(t.numer===r.numer&&t.denom===r.denom){return true}}return false};o.prototype.add=function(e){var t,r;if(e instanceof o){t=e.numer;r=e.denom}else if(i(e)){t=e;r=1}else{throw"InvalidArgument"}var n=this.copy();if(this.denom==r){n.numer+=t}else{var s=a(n.denom,r);var u=s/n.denom;var f=s/r;n.numer*=u;n.denom*=u;t*=f;n.numer+=t}return n.reduce()};o.prototype.subtract=function(e){var t=this.copy();if(e instanceof o){return t.add(new o(-e.numer,e.denom))}else if(i(e)){return t.add(new o(-e,1))}else{throw"InvalidArgument"}};o.prototype.multiply=function(e){var t,r;if(e instanceof o){t=e.numer;r=e.denom}else if(i(e)&&e){t=e;r=1}else if(e==0){t=0;r=1}else{throw"InvalidArgument"}var n=this.copy();n.numer*=t;n.denom*=r;return n.reduce()};o.prototype.divide=function(e){if(e==0){throw"DivideByZero"}var t=this.copy();if(e instanceof o){return t.multiply(new o(e.denom,e.numer))}else if(i(e)){return t.multiply(new o(1,e))}else{throw"InvalidArgument"}};o.prototype.pow=function(e){var t=this.copy();t.numer=Math.pow(t.numer,e);t.denom=Math.pow(t.denom,e);return t.reduce()};o.prototype.abs=function(){var e=this.copy();e.numer=Math.abs(e.numer);e.denom=Math.abs(e.denom);return e.reduce()};o.prototype.valueOf=function(){return this.numer/this.denom};o.prototype.toString=function(){var e=this.reduce();if(e.numer==0){return"0"}else if(e.denom==1){return e.numer.toString()}else if(e.denom==-1){return(-e.numer).toString()}else{return e.numer+"/"+e.denom}};o.prototype.toTex=function(){var e=this.reduce();if(e.numer==0){return"0"}else if(e.denom==1){return e.numer.toString()}else if(e.denom==-1){return(-e.numer).toString()}else{return"\\frac{"+e.numer+"}{"+e.denom+"}"}};o.prototype._squareRootIsRational=function(){if(this.valueOf()===0){return true}var e=Math.sqrt(this.numer);var t=Math.sqrt(this.denom);return i(e)&&i(t)};o.prototype._cubeRootIsRational=function(){if(this.valueOf()===0){return true}var e=Math.cbrt(this.numer);var t=Math.cbrt(this.denom);return i(e)&&i(t)};t.exports=o},{"./helper":4}],4:[function(e,t,r){function i(e,t){while(t){var r=e;e=t;t=r%t}return e}function n(e,t){return e*t/i(e,t)}function a(e){if(typeof e=="number"){if(e%1===0){return true}}return false}function o(e,t){t=typeof t==="undefined"?2:t;var r=Math.pow(10,t);return Math.round(parseFloat(e)*r)/r}Number.prototype.toTex=function(){return this.toString()};Array.prototype.toTex=function(){var e=[];for(var t=0;t<this.length;t++){e.push(this[t].toTex())}return e.join()};GREEK_LETTERS=["alpha","beta","gamma","Gamma","delta","Delta","epsilon","varepsilon","zeta","eta","theta","vartheta","Theta","iota","kappa","lambda","Lambda","mu","nu","xi","Xi","pi","Pi","rho","varrho","sigma","Sigma","tau","upsilon","Upsilon","phi","varphi","Phi","chi","psi","Psi","omega","Omega"];r.gcd=i;r.lcm=n;r.isInt=a;r.round=o;r.GREEK_LETTERS=GREEK_LETTERS},{}],5:[function(e,t,r){var i=e("./src/fractions");var n=e("./src/expressions").Expression;var a=e("./src/equations");t.exports={Fraction:i,Expression:n,Equation:a}},{"./src/equations":1,"./src/expressions":2,"./src/fractions":3}]},{},[5])(5)});