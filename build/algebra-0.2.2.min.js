(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.algebra=e()}})(function(){var e,t,r;return function n(e,t,r){function i(a,o){if(!t[a]){if(!e[a]){var u=typeof require=="function"&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var f=t[a]={exports:{}};e[a][0].call(f.exports,function(t){var r=e[a][1][t];return i(r?r:t)},f,f.exports,n,e,t,r)}return t[a].exports}var s=typeof require=="function"&&require;for(var a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,r){var n=e("./src/fractions");var i=e("./src/expressions").Expression;var s=e("./src/equations");var a=e("./src/parser");var o=function(e){var t=new a;var r=t.parse(e);return r};t.exports={Fraction:n,Expression:i,Equation:s,parse:o}},{"./src/equations":2,"./src/expressions":3,"./src/fractions":4,"./src/parser":7}],2:[function(e,t,r){var n=e("./expressions").Expression;var i=e("./expressions").Variable;var s=e("./expressions").Term;var a=e("./fractions");var o=e("./helper").isInt;var u=function(e,t){if(e instanceof n){this.lhs=e;if(t instanceof n){this.rhs=t}else if(t instanceof a||o(t)){this.rhs=new n(t)}else{throw"InvalidArgument"}}else{throw"InvalidArgument"}};u.prototype.solveFor=function(e){if(!this.lhs._hasVariable(e)&&!this.rhs._hasVariable(e)){throw"InvalidArgument"}if(this._isLinear()||this._variableCanBeIsolated(e)){var t=new s(new i(e));var r=new n;var u=new n;for(var h=0;h<this.rhs.terms.length;h++){var f=this.rhs.terms[h];if(f.canBeCombinedWith(t)){r=r.subtract(f)}else{u=u.add(f)}}for(var h=0;h<this.lhs.terms.length;h++){var f=this.lhs.terms[h];if(f.canBeCombinedWith(t)){r=r.add(f)}else{u=u.subtract(f)}}u=u.subtract(this.lhs.constant());u=u.add(this.rhs.constant());if(r.terms.length===0){if(r.constant().equalTo(u.constant())){return new a(1,1)}else{throw"NoSolution"}}u=u.divide(r.terms[0].coefficient());if(u.terms.length===0){return u.constant().reduce()}u._sort();return u}else{var r=this.lhs.copy();r=r.subtract(this.rhs);if(r.terms.length===0){if(r.constant().valueOf()===0){return[new a(1,1)]}else{throw"NoSolution"}}else if(this._isQuadratic(e)){var l=r._quadraticCoefficients();var c=l.a;var p=l.b;var v=l.c;var m=p.pow(2).subtract(c.multiply(v).multiply(4));if(m.valueOf()>=0){if(m.valueOf()===0){return[p.multiply(-1).divide(c.multiply(2)).reduce()]}else{var d;if(m._squareRootIsFraction()){d=m.pow(.5);var y=p.multiply(-1).subtract(d).divide(c.multiply(2));var g=p.multiply(-1).add(d).divide(c.multiply(2));return[y.reduce(),g.reduce()]}else{d=Math.sqrt(m.valueOf());c=c.valueOf();p=p.valueOf();var y=(-p-d)/2*c;var g=(-p+d)/2*c;return[y,g]}}}else{return[]}}else if(this._isCubic(e)){var l=r._cubicCoefficients();var c=l.a;var p=l.b;var v=l.c;var b=l.d;var w=c.multiply(p).multiply(v).multiply(b).multiply(18);w=w.subtract(p.pow(3).multiply(b).multiply(4));w=w.add(p.pow(2).multiply(v.pow(2)));w=w.subtract(c.multiply(v.pow(3)).multiply(4));w=w.subtract(c.pow(2).multiply(b.pow(2)).multiply(27));var _=p.pow(2).subtract(c.multiply(v).multiply(3));if(w.valueOf()===0){if(_.valueOf()===0){var y=p.multiply(-1).divide(c.multiply(3));return[y.reduce()]}else{var y=c.multiply(p).multiply(v).multiply(4);y=y.subtract(c.pow(2).multiply(b).multiply(9));y=y.subtract(p.pow(3));y=y.divide(c.multiply(_));var g=c.multiply(b).multiply(9).subtract(p.multiply(v)).divide(_.multiply(2));return[y.reduce(),g.reduce()]}}else{var T=new n("t").subtract(p.divide(c.multiply(3)));var x={};x[e]=T;var E=r.eval(x);var R=E._cubicCoefficients();var c=R.a.valueOf();var p=R.b.valueOf();var v=R.c.valueOf();var b=R.d.valueOf();if(w.valueOf()<0){var O=-p/3*c;var I=Math.pow(O,3)+(p*v-3*c*b)/(6*c^2);var M=v/3*c;var A=Math.sqrt(Math.pow(I,2)+Math.pow(M-Math.pow(O,2),3));var k=Math.cbrt(I+A)+Math.cbrt(I-A)+O;k=o(k)?new a(k,1):k;var x={};x[e]=Math.round(k);k=r.eval(x).toString()==="0"?new a(Math.round(k),1):k;return[k]}else{var I=Math.sqrt(-3*c*v/(9*Math.pow(c,2)));var P=2*c*Math.pow(I,3);var D=1/3*Math.acos(-b/P);var S=2*I*Math.cos(D);var V=2*I*Math.cos(2*Math.PI/3-D);var C=2*I*Math.cos(2*Math.PI/3+D);var q=S+T.constant().valueOf();var N=V+T.constant().valueOf();var L=C+T.constant().valueOf();q=o(q)?new a(q,1):q;N=o(N)?new a(N,1):N;L=o(L)?new a(L,1):L;var W={};var B={};var F={};W[e]=Math.round(q);B[e]=Math.round(N);F[e]=Math.round(L);q=r.eval(W).toString()==="0"?new a(Math.round(q),1):q;N=r.eval(B).toString()==="0"?new a(Math.round(N),1):N;L=r.eval(F).toString()==="0"?new a(Math.round(L),1):L;return[L,N,q]}}}}};u.prototype.eval=function(e){return new u(this.lhs.eval(e),this.rhs.eval(e))};u.prototype.toString=function(){return this.lhs.toString()+" = "+this.rhs.toString()};u.prototype.toTex=function(){return this.lhs.toTex()+" = "+this.rhs.toTex()};u.prototype._maxDegree=function(){var e=this.lhs._maxDegree();var t=this.rhs._maxDegree();return Math.max(e,t)};u.prototype._maxDegreeOfVariable=function(e){return Math.max(this.lhs._maxDegreeOfVariable(e),this.rhs._maxDegreeOfVariable(e))};u.prototype._variableCanBeIsolated=function(e){return this._maxDegreeOfVariable(e)===1&&this._noCrossProductsWithVariable(e)};u.prototype._noCrossProductsWithVariable=function(e){return this.lhs._noCrossProductsWithVariable(e)&&this.rhs._noCrossProductsWithVariable(e)};u.prototype._noCrossProducts=function(){return this.lhs._noCrossProducts()&&this.rhs._noCrossProducts()};u.prototype._onlyHasVariable=function(e){return this.lhs._onlyHasVariable(e)&&this.rhs._onlyHasVariable(e)};u.prototype._isLinear=function(){return this._maxDegree()===1&&this._noCrossProducts()};u.prototype._isQuadratic=function(e){return this._maxDegree()===2&&this._onlyHasVariable(e)};u.prototype._isCubic=function(e){return this._maxDegree()===3&&this._onlyHasVariable(e)};t.exports=u},{"./expressions":3,"./fractions":4,"./helper":5}],3:[function(e,t,r){var n=e("./fractions");var i=e("./helper").isInt;var s=function(e){this.constants=[];if(typeof e==="string"){var t=new a(e);var r=new Term(t);this.terms=[r]}else if(i(e)){this.constants=[new n(e,1)];this.terms=[]}else if(e instanceof n){this.constants=[e];this.terms=[]}else if(e instanceof Term){this.terms=[e]}else if(typeof e==="undefined"){this.terms=[]}};s.prototype.constant=function(){var e=new n(0,1);for(var t=0;t<this.constants.length;t++){e=e.add(this.constants[t])}return e};s.prototype.simplify=function(){var e=this.copy();for(var t=0;t<e.terms.length;t++){e.terms[t]=e.terms[t].simplify()}e._sort();e._combineLikeTerms();e._moveTermsWithDegreeZeroToConstants();e._removeTermsWithCoefficientZero();e.constants=e.constant().valueOf()===0?[]:[e.constant()];return e};s.prototype.copy=function(){var e=new s;e.constants=[];this.constants.forEach(function(t){e.constants.push(t.copy())});e.terms=[];this.terms.forEach(function(t){e.terms.push(t.copy())});return e};s.prototype.add=function(e,t){t=t===undefined?true:t;var r=this.copy();if(typeof e==="string"||e instanceof Term||i(e)||e instanceof n){var a=new s(e);return r.add(a,t)}else if(e instanceof s){var o=e.copy().terms;for(var u=0;u<r.terms.length;u++){var h=r.terms[u];for(var f=0;f<o.length;f++){var l=o[f];if(h.canBeCombinedWith(l)&&t){r.terms[u]=h.add(l);o.splice(f,1)}}}r.terms=r.terms.concat(o);r.constants=r.constants.concat(e.constants);r._sort()}else{throw"InvalidArgument"}return t?r.simplify():r};s.prototype.subtract=function(e,t){t=t===undefined?true:t;var r=this.copy();var a;if(typeof e==="string"||e instanceof Term||i(e)||e instanceof n){a=new s(e).multiply(-1)}else if(e instanceof s){a=e.multiply(-1)}else{throw"InvalidArgument"}return r.add(a,t)};s.prototype.multiply=function(e,t){t=t===undefined?true:t;var r=this.copy();if(typeof e==="string"||e instanceof Term||i(e)||e instanceof n){var a=new s(e);return r.multiply(a,t)}else if(e instanceof s){var o=e.copy();var u=[];for(var h=0;h<r.terms.length;h++){var f=r.terms[h];for(var l=0;l<o.terms.length;l++){var c=o.terms[l];u.push(f.multiply(c,t))}for(var l=0;l<o.constants.length;l++){u.push(f.multiply(o.constants[l],t))}}for(var h=0;h<o.terms.length;h++){var c=o.terms[h];for(var l=0;l<r.constants.length;l++){u.push(c.multiply(r.constants[l],t))}}var p=[];for(var h=0;h<r.constants.length;h++){var v=r.constants[h];for(var l=0;l<o.constants.length;l++){var m=o.constants[l];if(t){p.push(v.multiply(m,t))}else{var d=new Term;d=d.multiply(m,false);d=d.multiply(v,false);u.push(d)}}}r.constants=p;r.terms=u;r._sort()}else{throw"InvalidArgument"}return t?r.simplify():r};s.prototype.divide=function(e,t){t=t===undefined?true:t;if(e instanceof n||i(e)){if(e.valueOf()===0){throw"DivideByZero"}var r=this.copy();for(var s=0;s<r.terms.length;s++){var a=r.terms[s];for(var o=0;o<a.coefficients.length;o++){a.coefficients[o]=a.coefficients[o].divide(e,t)}}for(var s=0;s<r.constants.length;s++){r.constants[s]=r.constants[s].divide(e,t)}return r}else{throw"InvalidArgument"}};s.prototype.pow=function(e,t){t=t===undefined?true:t;if(i(e)){var r=this.copy();if(e===0){return(new s).add(1)}else{for(var n=1;n<e;n++){r=r.multiply(this,t)}r._sort()}}else{throw"InvalidArgument"}return t?r.simplify():r};s.prototype.eval=function(e,t){t=t===undefined?true:t;var r=new s;r.constants=t?[this.constant()]:this.constants.slice();for(var n=0;n<this.terms.length;n++){var i=this.terms[n];r=r.add(i.eval(e,t),t)}return r};s.prototype.summation=function(e,t,r){var n=this.copy();var i=new s;for(var a=t;a<r+1;a++){var o={};o[e]=a;i=i.add(n.eval(o))}return i};s.prototype.toString=function(){if(this.terms.length===0&&this.constants.length===0){return"0"}var e="";for(var t=0;t<this.terms.length;t++){var r=this.terms[t];e+=(r.coefficients[0].valueOf()<0?" - ":" + ")+r.toString()}for(var t=0;t<this.constants.length;t++){var n=this.constants[t];e+=(n.valueOf()<0?" - ":" + ")+n.abs().toString()}if(e.substring(0,3)===" - "){return"-"+e.substring(3,e.length)}else if(e.substring(0,3)===" + "){return e.substring(3,e.length)}else{return e}};s.prototype.toTex=function(e){if(this.terms.length===0&&this.constants.length===0){return"0"}var t="";for(var r=0;r<this.terms.length;r++){var n=this.terms[r];t+=(n.coefficients[0].valueOf()<0?" - ":" + ")+n.toTex(e)}for(var r=0;r<this.constants.length;r++){var i=this.constants[r];t+=(i.valueOf()<0?" - ":" + ")+i.abs().toTex()}if(t.substring(0,3)===" - "){return"-"+t.substring(3,t.length)}else if(t.substring(0,3)===" + "){return t.substring(3,t.length)}else{return t}};s.prototype._removeTermsWithCoefficientZero=function(){var e=[];for(var t=0;t<this.terms.length;t++){var r=this.terms[t].coefficient().reduce();if(r.numer!=0){e.push(this.terms[t])}}this.terms=e;return this};s.prototype._combineLikeTerms=function(){function e(e,t){for(var r=0;r<t.length;r++){if(e.canBeCombinedWith(t[r])){return true}}return false}var t=[];var r=[];for(var n=0;n<this.terms.length;n++){var i=this.terms[n];if(e(i,r)){continue}else{for(var s=n+1;s<this.terms.length;s++){var a=this.terms[s];if(i.canBeCombinedWith(a)){i=i.add(a)}}t.push(i);r.push(i)}}this.terms=t;return this};s.prototype._moveTermsWithDegreeZeroToConstants=function(){var e=[];var t=new n(0,1);for(var r=0;r<this.terms.length;r++){var i=this.terms[r];if(i.variables.length===0){t=t.add(i.coefficient())}else{e.push(i)}}this.constants.push(t);this.terms=e;return this};s.prototype._sort=function(){function e(e,t){var r=e.maxDegree();var n=t.maxDegree();if(r===n){var i=e.variables.length;var s=t.variables.length;return s-i}else{return n-r}}this.terms=this.terms.sort(e);return this};s.prototype._hasVariable=function(e){for(var t=0;t<this.terms.length;t++){if(this.terms[t].hasVariable(e)){return true}}return false};s.prototype._onlyHasVariable=function(e){for(var t=0;t<this.terms.length;t++){if(!this.terms[t].onlyHasVariable(e)){return false}}return true};s.prototype._noCrossProductsWithVariable=function(e){for(var t=0;t<this.terms.length;t++){var r=this.terms[t];if(r.hasVariable(e)&&!r.onlyHasVariable(e)){return false}}return true};s.prototype._noCrossProducts=function(){for(var e=0;e<this.terms.length;e++){var t=this.terms[e];if(t.variables.length>1){return false}}return true};s.prototype._maxDegree=function(){var e=1;for(var t=0;t<this.terms.length;t++){var r=this.terms[t].maxDegree();if(r>e){e=r}}return e};s.prototype._maxDegreeOfVariable=function(e){var t=1;for(var r=0;r<this.terms.length;r++){var n=this.terms[r].maxDegreeOfVariable(e);if(n>t){t=n}}return t};s.prototype._quadraticCoefficients=function(){var e;var t=new n(0,1);for(var r=0;r<this.terms.length;r++){var i=this.terms[r];if(i.maxDegree()===2){e=i.coefficient().copy()}else if(i.maxDegree()===1){t=i.coefficient().copy()}}var s=new n(0,1);for(var r=0;r<this.constants.length;r++){s=s.add(this.constants[r])}return{a:e,b:t,c:s}};s.prototype._cubicCoefficients=function(){var e;var t=new n(0,1);var r=new n(0,1);for(var i=0;i<this.terms.length;i++){var s=this.terms[i];if(s.maxDegree()===3){e=s.coefficient().copy()}else if(s.maxDegree()===2){t=s.coefficient().copy()}else if(s.maxDegree()===1){r=s.coefficient().copy()}}var a=new n(0,1);for(var i=0;i<this.constants.length;i++){a=a.add(this.constants[i])}return{a:e,b:t,c:r,d:a}};Term=function(e){if(e instanceof a){this.variables=[e.copy()]}else if(typeof e==="undefined"){this.variables=[]}else{throw"InvalidArgument"}this.coefficients=[new n(1,1)]};Term.prototype.coefficient=function(){var e=new n(1,1);for(var t=0;t<this.coefficients.length;t++){e=e.multiply(this.coefficients[t])}return e};Term.prototype.simplify=function(){var e=this.copy();e.coefficients=[this.coefficient()];e.combineVars();return e.sort()};Term.prototype.combineVars=function(){var e={};for(var t=0;t<this.variables.length;t++){var r=this.variables[t];if(r.variable in e){e[r.variable]+=r.degree}else{e[r.variable]=r.degree}}var n=[];for(var i in e){var s=new a(i);s.degree=e[i];n.push(s)}this.variables=n;return this};Term.prototype.copy=function(){var e=new Term;e.coefficients=[];e.variables=[];for(var t=0;t<this.variables.length;t++){e.variables.push(this.variables[t].copy())}for(var t=0;t<this.coefficients.length;t++){e.coefficients.push(this.coefficients[t].copy())}return e};Term.prototype.add=function(e){if(e instanceof Term&&this.canBeCombinedWith(e)){var t=this.copy();t.coefficients=[t.coefficient().add(e.coefficient())];return t}else{throw"InvalidArgument"}};Term.prototype.subtract=function(e){if(e instanceof Term&&this.canBeCombinedWith(e)){var t=this.copy();t.coefficients=[t.coefficient().subtract(e.coefficient())];return t}else{throw"InvalidArgument"}};Term.prototype.multiply=function(e,t){t=t===undefined?true:t;var r=this.copy();if(e instanceof Term){var s=e.copy();r.variables=r.variables.concat(s.variables);for(var a=0;a<s.coefficients.length;a++){r.coefficients.unshift(s.coefficients[a])}}else if(i(e)||e instanceof n){var o=i(e)?new n(e,1):e;if(r.variables.length===0){r.coefficients.push(o)}else{r.coefficients.unshift(o)}}else{throw"InvalidArgument"}return t?r.simplify():r};Term.prototype.divide=function(e,t){t=t===undefined?true:t;if(i(e)||e instanceof n){var r=this.copy();for(var s=0;s<r.coefficients.length;s++){r.coefficients[s]=r.coefficients[s].divide(e,t)}return r}else{throw"InvalidArgument"}};Term.prototype.eval=function(e,t){t=t===undefined?true:t;var r=this.copy();var a=Object.keys(e);var o=new s(1);for(var u=0;u<this.coefficients.length;u++){o=o.multiply(this.coefficients[u],t)}for(var u=0;u<r.variables.length;u++){var h=r.variables[u];var f=new s(h.variable).pow(h.degree);for(var l=0;l<a.length;l++){if(h.variable==a[l]){var c=e[a[l]];if(c instanceof n||c instanceof s){f=c.pow(h.degree)}else if(i(c)){f=Math.pow(c,h.degree)}else{throw"InvalidArgument"}}}o=o.multiply(f,t)}return o};Term.prototype.hasVariable=function(e){for(var t=0;t<this.variables.length;t++){if(this.variables[t].variable===e){return true}}return false};Term.prototype.maxDegree=function(){var e=1;for(var t=0;t<this.variables.length;t++){if(this.variables[t].degree>e){e=this.variables[t].degree}}return e};Term.prototype.maxDegreeOfVariable=function(e){var t=1;for(var r=0;r<this.variables.length;r++){var n=this.variables[r];if(n.variable===e){if(n.degree>t){t=n.degree}}}return t};Term.prototype.canBeCombinedWith=function(e){if(e instanceof Term){var t=this.variables;var r=e.variables;if(t.length!=r.length){return false}matches=0;for(var n=0;n<t.length;n++){for(var i=0;i<r.length;i++){if(t[n].variable===r[i].variable&&t[n].degree===r[i].degree){matches+=1}}}if(matches!=t.length){return false}}return true};Term.prototype.onlyHasVariable=function(e){for(var t=0;t<this.variables.length;t++){if(this.variables[t].variable!=e){return false}}return true};Term.prototype.sort=function(){function e(e,t){return t.degree-e.degree}this.variables=this.variables.sort(e);return this};Term.prototype.toString=function(){var e="";for(var t=0;t<this.coefficients.length;t++){var r=this.coefficients[t];if(!(r.abs().numer===1&&r.abs().denom===1)){e+=" * "+r.toString()}}for(var t=0;t<this.variables.length;t++){e+=this.variables[t].toString()}e=e.substring(0,3)===" * "?e.substring(3,e.length):e;e=e.substring(0,1)==="-"?e.substring(1,e.length):e;return e};Term.prototype.toTex=function(e){if(e===undefined){var e={}}if(!("multiplication"in e)){e["multiplication"]="cdot"}var t=" \\"+e["multiplication"]+" ";var r="";for(var n=0;n<this.coefficients.length;n++){var i=this.coefficients[n];if(!(i.abs().numer===1&&i.abs().denom===1)){r+=t+i.toTex()}}for(var n=0;n<this.variables.length;n++){r+=this.variables[n].toTex()}r=r.substring(0,t.length)===t?r.substring(t.length,r.length):r;r=r.substring(0,1)==="-"?r.substring(1,r.length):r;return r};var a=function(e){if(typeof e==="string"){this.variable=e;this.degree=1}else{throw"InvalidArgument"}};a.prototype.copy=function(){var e=new a(this.variable);e.degree=this.degree;return e};a.prototype.toString=function(){var e=this.degree;var t=this.variable;if(e===0){return""}else if(e===1){return t}else{return t+"^"+e}};a.prototype.toTex=function(){var e=this.degree;var t=this.variable;if(GREEK_LETTERS.indexOf(t)>-1){t="\\"+t}if(e===0){return""}else if(e===1){return t}else{return t+"^{"+e+"}"}};t.exports={Expression:s,Term:Term,Variable:a}},{"./fractions":4,"./helper":5}],4:[function(e,t,r){var n=e("./helper").isInt;var i=e("./helper").gcd;var s=e("./helper").lcm;var a=function(e,t){if(t==0){throw"DivideByZero"}else if(n(e)&&n(t)){this.numer=e;this.denom=t}else{throw"InvalidArgument"}};a.prototype.copy=function(){return new a(this.numer,this.denom)};a.prototype.reduce=function(){var e=this.copy();var t=i(e.numer,e.denom);e.numer=e.numer/t;e.denom=e.denom/t;if(Math.sign(e.denom)==-1&&Math.sign(e.numer)==1){e.numer*=-1;e.denom*=-1}return e};a.prototype.equalTo=function(e){if(e instanceof a){var t=this.reduce();var r=e.reduce();if(t.numer===r.numer&&t.denom===r.denom){return true}}return false};a.prototype.add=function(e,t){t=t===undefined?true:t;var r,i;if(e instanceof a){r=e.numer;i=e.denom}else if(n(e)){r=e;i=1}else{throw"InvalidArgument"}var o=this.copy();if(this.denom==i){o.numer+=r}else{var u=s(o.denom,i);var h=u/o.denom;var f=u/i;o.numer*=h;o.denom*=h;r*=f;o.numer+=r}return t?o.reduce():o};a.prototype.subtract=function(e,t){t=t===undefined?true:t;var r=this.copy();if(e instanceof a){return r.add(new a(-e.numer,e.denom),t)}else if(n(e)){return r.add(new a(-e,1),t)}else{throw"InvalidArgument"}};a.prototype.multiply=function(e,t){t=t===undefined?true:t;var r,i;if(e instanceof a){r=e.numer;i=e.denom}else if(n(e)&&e){r=e;i=1}else if(e==0){r=0;i=1}else{throw"InvalidArgument"}var s=this.copy();s.numer*=r;s.denom*=i;return t?s.reduce():s};a.prototype.divide=function(e,t){t=t===undefined?true:t;if(e.valueOf()===0){throw"DivideByZero"}var r=this.copy();if(e instanceof a){return r.multiply(new a(e.denom,e.numer),t)}else if(n(e)){return r.multiply(new a(1,e),t)}else{throw"InvalidArgument"}};a.prototype.pow=function(e,t){t=t===undefined?true:t;var r=this.copy();r.numer=Math.pow(r.numer,e);r.denom=Math.pow(r.denom,e);return t?r.reduce():r};a.prototype.abs=function(){var e=this.copy();e.numer=Math.abs(e.numer);e.denom=Math.abs(e.denom);return e};a.prototype.valueOf=function(){return this.numer/this.denom};a.prototype.toString=function(){if(this.numer===0){return"0"}else if(this.denom===1){return this.numer.toString()}else if(this.denom===-1){return(-this.numer).toString()}else{return this.numer+"/"+this.denom}};a.prototype.toTex=function(){if(this.numer===0){return"0"}else if(this.denom===1){return this.numer.toString()}else if(this.denom===-1){return(-this.numer).toString()}else{return"\\frac{"+this.numer+"}{"+this.denom+"}"}};a.prototype._squareRootIsFraction=function(){if(this.valueOf()===0){return true}var e=Math.sqrt(this.numer);var t=Math.sqrt(this.denom);return n(e)&&n(t)};a.prototype._cubeRootIsFraction=function(){if(this.valueOf()===0){return true}var e=Math.cbrt(this.numer);var t=Math.cbrt(this.denom);return n(e)&&n(t)};t.exports=a},{"./helper":5}],5:[function(e,t,r){function n(e,t){while(t){var r=e;e=t;t=r%t}return e}function i(e,t){return e*t/n(e,t)}function s(e){if(typeof e=="number"){if(e%1===0){return true}}return false}function a(e,t){t=typeof t==="undefined"?2:t;var r=Math.pow(10,t);return Math.round(parseFloat(e)*r)/r}Number.prototype.toTex=function(){return this.toString()};Array.prototype.toTex=function(){var e=[];for(var t=0;t<this.length;t++){e.push(this[t].toTex())}return e.join()};GREEK_LETTERS=["alpha","beta","gamma","Gamma","delta","Delta","epsilon","varepsilon","zeta","eta","theta","vartheta","Theta","iota","kappa","lambda","Lambda","mu","nu","xi","Xi","pi","Pi","rho","varrho","sigma","Sigma","tau","upsilon","Upsilon","phi","varphi","Phi","chi","psi","Psi","omega","Omega"];r.gcd=n;r.lcm=i;r.isInt=s;r.round=a;r.GREEK_LETTERS=GREEK_LETTERS},{}],6:[function(e,t,r){"use strict";var n=function(){this.pos=0;this.buf=null;this.buflen=0;this.optable={"+":"PLUS","-":"MINUS","*":"MULTIPLY","/":"DIVIDE","^":"POWER","(":"L_PAREN",")":"R_PAREN","=":"EQUALS"}};n.prototype.input=function(e){this.pos=0;this.buf=e;this.buflen=e.length};n.prototype.token=function(){this._skipnontokens();if(this.pos>=this.buflen){return null}var e=this.buf.charAt(this.pos);var t=this.optable[e];if(t!==undefined){if(t==="L_PAREN"||t==="R_PAREN"){return{type:"PAREN",value:t,pos:this.pos++}}else{return{type:"OPERATOR",value:t,pos:this.pos++}}}else{if(n._isalpha(e)){return this._process_identifier()}else if(n._isdigit(e)){return this._process_number()}else{throw new Error("Token error at character "+e+" at position "+this.pos)}}};n._isdigit=function(e){return e>="0"&&e<="9"};n._isalpha=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"};n._isalphanum=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"};n.prototype._process_digits=function(e){var t=e;while(t<this.buflen&&n._isdigit(this.buf.charAt(t))){t++}return t};n.prototype._process_number=function(){var e=this._process_digits(this.pos);if(this.buf.charAt(e)==="."){e=this._process_digits(e+1)}if(this.buf.charAt(e-1)==="."){throw new Error("Decimal point without decimal digits at position "+(e-1))}var t={type:"NUMBER",value:this.buf.substring(this.pos,e),pos:this.pos};this.pos=e;return t};n.prototype._process_identifier=function(){var e=this.pos+1;while(e<this.buflen&&n._isalphanum(this.buf.charAt(e))){e++}var t={type:"IDENTIFIER",value:this.buf.substring(this.pos,e),pos:this.pos};this.pos=e;return t};n.prototype._skipnontokens=function(){while(this.pos<this.buflen){var e=this.buf.charAt(this.pos);if(e==" "||e=="	"||e=="\r"||e=="\n"){this.pos++}else{break}}};t.exports=n},{}],7:[function(e,t,r){"use strict";var n=e("./lexer"),i=e("./expressions").Expression,s=e("./fractions"),a=e("./equations");var o=function(){this.lexer=new n;this.current_token=null};o.prototype.update=function(){this.current_token=this.lexer.token()};o.prototype.match=function(e){if(this.current_token===null)return e==="epsilon";switch(e){case"plus":return this.current_token.type==="OPERATOR"&&this.current_token.value==="PLUS";case"minus":return this.current_token.type==="OPERATOR"&&this.current_token.value==="MINUS";case"multiply":return this.current_token.type==="OPERATOR"&&this.current_token.value==="MULTIPLY";case"power":return this.current_token.type==="OPERATOR"&&this.current_token.value==="POWER";case"divide":return this.current_token.type==="OPERATOR"&&this.current_token.value==="DIVIDE";case"equal":return this.current_token.type==="OPERATOR"&&this.current_token.value==="EQUALS";case"lparen":return this.current_token.type==="PAREN"&&this.current_token.value==="L_PAREN";case"rparen":return this.current_token.type==="PAREN"&&this.current_token.value==="R_PAREN";case"num":return this.current_token.type==="NUMBER";case"id":return this.current_token.type==="IDENTIFIER";default:return false}};o.prototype.parse=function(e){this.lexer.input(e);this.update();return this.parseEqn()};o.prototype.parseEqn=function(){var e=this.parseExpr();if(this.match("equal")){this.update();var t=this.parseExpr();return new a(e,t)}else if(this.match("epsilon")){return e}else{throw"Unbalanced Parenthesis"}};o.prototype.parseExpr=function(){var e=this.parseTerm();return this.parseExprRest(e)};o.prototype.parseExprRest=function(e){if(this.match("plus")){this.update();var t=this.parseTerm();if(e===undefined||t===undefined)throw"Missing operand";return this.parseExprRest(e.add(t))}else if(this.match("minus")){this.update();var r=this.parseTerm();if(e===undefined){return r.multiply(-1)}else{return this.parseExprRest(e.subtract(r))}}else{return e}};o.prototype.parseTerm=function(){var e=this.parseFactor();return this.parseTermRest(e)};o.prototype.parseTermRest=function(e){if(this.match("multiply")){this.update();var t=this.parseFactor();return this.parseTermRest(e.multiply(t))}else if(this.match("power")){this.update();var r=this.parseFactor();return this.parseTermRest(e.pow(parseInt(r.toString())))}else if(this.match("divide")){this.update();var n=this.parseFactor();return this.parseTermRest(e.divide(this.convertToFraction(n)))}else if(this.match("epsilon")){return e}else{var i=this.parseFactor();if(i===undefined){return e}else{return this.parseTermRest(e.multiply(i))}}};o.prototype.convertToFraction=function(e){var t=e.constants[0];return new s(t.numer,t.denom)};o.prototype.parseFactor=function(){if(this.match("num")){var e=this.parseNumber();this.update();return e}else if(this.match("id")){var t=new i(this.current_token.value);this.update();return t}else if(this.match("lparen")){this.update();var r=this.parseExpr();if(this.match("rparen")){this.update();return r}else{throw"Unbalanced Parenthesis"}}else{return undefined}};o.prototype.parseNumber=function(){if(parseInt(this.current_token.value)==this.current_token.value){return new i(parseInt(this.current_token.value))}else{var e=this.current_token.value.split(".");var t=e[1].length;var r=Math.pow(10,t);var n=parseFloat(this.current_token.value);return new i(parseInt(n*r)).divide(r)}};t.exports=o},{"./equations":2,"./expressions":3,"./fractions":4,"./lexer":6}]},{},[1])(1)});
